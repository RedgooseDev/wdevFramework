/*! anchorific 2013-11-19 */
"function"!=typeof Object.create&&(Object.create=function(a){function b(){}return b.prototype=a,new b}),function(d,e,a,b){var c={init:function(f,g){var h=this;h.elem=g,h.$elem=d(g),h.opt=d.extend({},this.opt,f),h.headers=h.$elem.find("section[id]"),h.previous=0,0!==h.headers.length&&(h.first=parseInt(h.headers.prop("nodeName").substring(1),null)),h.build()},opt:{navigation:".anchorific",speed:200,anchorClass:"anchor",anchorText:"#",top:".top",spy:!0,position:"append"},build:function(){var h,f=this,g=function(){};f.opt.navigation&&(d(f.opt.navigation).append("<ul />"),f.previous=d(f.opt.navigation).find("ul").last(),g=function(j){return f.navigations(j)});for(var i=0;i<f.headers.length;i++){h=f.headers.eq(i),g(h),f.anchor(h)}f.opt.spy&&f.spy(),f.opt.top&&f.back()},navigations:function(h){var o,f,g,i=this,j=i.name(h);h.attr("id")!==b&&(j=h.attr("id")),o=d("<a />").attr("href","#"+j).text(h.text()),f=d("<li />").append(o),g=parseInt(h.prop("nodeName").substring(1),null),f.attr("data-tag",g),i.subheadings(g,f),i.first=g},subheadings:function(h,f){var g=this,i=(d(g.opt.navigation).find("ul"),d(g.opt.navigation).find("li"));h===g.first?g.previous.append(f):h>g.first?(i.last().append("<ul />"),d(g.opt.navigation).find("ul").last().append(f),g.previous=f.parent()):(d("li[data-tag="+h+"]").last().parent().append(f),g.previous=f.parent())},name:function(f){var g=f.text().replace(/[^\w\s]/gi,"").replace(/\s+/g,"-").toLowerCase();return g},anchor:function(f){},back:function(){var f=this,g=d("body, html"),h=d(f.opt.top);h.on("click",function(i){i.preventDefault(),g.animate({scrollTop:0},f.opt.speed)})},top:function(h){var f,g=this,i=g.opt.top;i!==!1&&(f=d(h).scrollTop()>200?d(i).fadeIn():d(i).fadeOut())},spy:function(){var h,i,f,g=this;d(e).scroll(function(){g.top(this),h=g.headers.map(function(){return d(this).offset().top-d(e).scrollTop()<50?this:void 0}),h=d(h).eq(h.length-1),h&&h.length&&(i=d('li:has("a[href=#'+h.attr("id")+']")'),f!==b&&f.removeClass("active"),i.addClass("active"),f=i)})}};d.fn.anchorific=function(f){return this.each(function(){if(!d.data(this,"anchorific")){var g=Object.create(c);g.init(f,this),d.data(this,"anchorific",g)}})}}(jQuery,window,document);